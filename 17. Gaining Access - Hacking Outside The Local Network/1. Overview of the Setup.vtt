WEBVTT

1
00:00:00.490 --> 00:00:01.800
<v Instructor>So far in the course,</v>

2
00:00:01.800 --> 00:00:06.040
we learned a number of methods to gain access to computers.

3
00:00:06.040 --> 00:00:09.080
We learned how to do that using server-side attacks,

4
00:00:09.080 --> 00:00:12.513
client-side attacks and using social engineering.

5
00:00:13.580 --> 00:00:17.570
We tested everything though, within our own network

6
00:00:17.570 --> 00:00:19.960
just to simplify things.

7
00:00:19.960 --> 00:00:23.060
That does not mean that these attacks

8
00:00:23.060 --> 00:00:25.250
only the work inside the network.

9
00:00:25.250 --> 00:00:29.100
In fact, all of them work outside of the network

10
00:00:29.100 --> 00:00:30.150
on the internet.

11
00:00:30.150 --> 00:00:33.530
Even if the target computer is connected to different

12
00:00:33.530 --> 00:00:35.650
networks, or even if it is

13
00:00:35.650 --> 00:00:38.230
in a completely different country.

14
00:00:38.230 --> 00:00:39.260
The only thing is

15
00:00:39.260 --> 00:00:42.720
you need to configure port forwarding properly.

16
00:00:42.720 --> 00:00:45.640
You can do that using the routers settings page

17
00:00:45.640 --> 00:00:48.257
and that's what we're going to focus on in this course.

18
00:00:48.257 --> 00:00:50.680
But you can also achieve the same results

19
00:00:50.680 --> 00:00:53.990
by installing Kali or your tools on the cloud

20
00:00:53.990 --> 00:00:58.730
or using a cloud SSH server or using a tunnel link service

21
00:00:58.730 --> 00:01:02.370
that is designed to solve this very problem.

22
00:01:02.370 --> 00:01:04.330
Obviously, each one of these methods come

23
00:01:04.330 --> 00:01:07.370
with its advantages and disadvantages,

24
00:01:07.370 --> 00:01:10.740
but we're focusing on the first one, because in my opinion,

25
00:01:10.740 --> 00:01:13.490
you have to understand how this method works

26
00:01:13.490 --> 00:01:16.530
before being able to use all of the other methods.

27
00:01:16.530 --> 00:01:19.630
So we're spending four lectures explaining this method

28
00:01:19.630 --> 00:01:22.930
in detail so you can use it with whatever service you want.

29
00:01:22.930 --> 00:01:25.190
Whether you want to use it with BeEF, with Backdoors,

30
00:01:25.190 --> 00:01:28.570
with your own web server or with any other service

31
00:01:28.570 --> 00:01:31.080
that you want to expose to the internet.

32
00:01:31.080 --> 00:01:33.500
And then if you face any limitations

33
00:01:33.500 --> 00:01:35.440
or if you want to learn other methods,

34
00:01:35.440 --> 00:01:37.120
then you can check out the other methods

35
00:01:37.120 --> 00:01:39.510
that I actually covered in various places

36
00:01:39.510 --> 00:01:41.360
that as you can see in here,

37
00:01:41.360 --> 00:01:43.210
I didn't want to cover them all in here.

38
00:01:43.210 --> 00:01:45.890
Obviously, cause this is not a social engineering course,

39
00:01:45.890 --> 00:01:48.380
this is an introductory course that is designed

40
00:01:48.380 --> 00:01:51.190
to introduce you to most hacking fields.

41
00:01:51.190 --> 00:01:53.080
And then if you want to learn more,

42
00:01:53.080 --> 00:01:55.416
you could actually check out the other methods

43
00:01:55.416 --> 00:01:58.980
with the main next method being the one in number four

44
00:01:58.980 --> 00:02:01.090
in here using tunnel link services,

45
00:02:01.090 --> 00:02:03.780
which I covered in my social engineering course.

46
00:02:03.780 --> 00:02:06.673
So check out the bonus lecture for more information.

47
00:02:07.690 --> 00:02:08.523
So first of all,

48
00:02:08.523 --> 00:02:10.670
let's have a look on a default network setup.

49
00:02:10.670 --> 00:02:13.410
So we've seen this before. We've seen a similar diagram.

50
00:02:13.410 --> 00:02:16.000
And right here, you can see that we have the router.

51
00:02:16.000 --> 00:02:18.465
Here we have the clients that's connected to the router.

52
00:02:18.465 --> 00:02:20.710
And then we have the router that is connected

53
00:02:20.710 --> 00:02:22.070
to the internet.

54
00:02:22.070 --> 00:02:24.300
And we mentioned before that all the clients,

55
00:02:24.300 --> 00:02:26.260
all devices inside the network,

56
00:02:26.260 --> 00:02:28.640
they actually don't have internet connection.

57
00:02:28.640 --> 00:02:31.990
They can only access the internet through the router.

58
00:02:31.990 --> 00:02:34.330
So whenever they want to request something,

59
00:02:34.330 --> 00:02:36.490
whenever they want to go to a website, for example,

60
00:02:36.490 --> 00:02:38.053
if they wanted to go to Google,

61
00:02:39.010 --> 00:02:42.210
this device would actually send a request to the router.

62
00:02:42.210 --> 00:02:43.953
The router is going to go to the internet,

63
00:02:43.953 --> 00:02:47.840
it's going to get google.com and the response is going to be

64
00:02:47.840 --> 00:02:49.120
sent to the router.

65
00:02:49.120 --> 00:02:51.620
Then the router will forward that response

66
00:02:51.620 --> 00:02:53.653
to the device that requested it.

67
00:02:55.900 --> 00:03:00.680
So inside the network, each device has its private IP.

68
00:03:00.680 --> 00:03:03.300
So we can see these IPs are written in red.

69
00:03:03.300 --> 00:03:06.080
And these only exist within the network.

70
00:03:06.080 --> 00:03:08.330
That's why we call them private IPs.

71
00:03:08.330 --> 00:03:11.943
Because outside the network, these IPs are not visible.

72
00:03:13.460 --> 00:03:16.610
And we can see that the router here has two IPs.

73
00:03:16.610 --> 00:03:18.530
So it has a private IP in red,

74
00:03:18.530 --> 00:03:21.670
which is accessible by all the devices in the network

75
00:03:21.670 --> 00:03:24.223
and it's only used inside the network.

76
00:03:25.110 --> 00:03:28.220
It also has a public IP, which I have here in green.

77
00:03:28.220 --> 00:03:31.440
And this is the IP that's accessible through the internet.

78
00:03:31.440 --> 00:03:33.630
So this is the IP that Google sees.

79
00:03:33.630 --> 00:03:35.640
So whenever you actually go to Google or

80
00:03:35.640 --> 00:03:38.430
to any other website, they see an IP address,

81
00:03:38.430 --> 00:03:41.050
but they won't see your private IP address.

82
00:03:41.050 --> 00:03:43.570
They'll actually see the IP address of the router

83
00:03:43.570 --> 00:03:45.400
because the router is the device

84
00:03:45.400 --> 00:03:47.270
that's actually making the request.

85
00:03:47.270 --> 00:03:48.770
It's not you.

86
00:03:48.770 --> 00:03:51.680
So all the requests made by all of these devices

87
00:03:51.680 --> 00:03:54.380
on the same network, they'll all appear

88
00:03:54.380 --> 00:03:56.960
as if they're coming from the same machine

89
00:03:56.960 --> 00:03:58.780
or from the same IP.

90
00:03:58.780 --> 00:04:01.880
This is again, because the only device that has access

91
00:04:01.880 --> 00:04:04.310
to the internet is the router.

92
00:04:04.310 --> 00:04:05.893
And it's none of these devices.

93
00:04:07.690 --> 00:04:09.760
Now let's go back to our scenario.

94
00:04:09.760 --> 00:04:11.960
So we usually in most cases,

95
00:04:11.960 --> 00:04:14.630
or if you think about it in all of the attacks that we do,

96
00:04:14.630 --> 00:04:17.280
the main thing is we want to get a reverse connection.

97
00:04:17.280 --> 00:04:19.100
Even when we're using BeEF,

98
00:04:19.100 --> 00:04:21.496
we actually get a connection or port 3000,

99
00:04:21.496 --> 00:04:24.320
which is the port that BeEF is working on.

100
00:04:24.320 --> 00:04:26.439
And when we're using our Backdoors,

101
00:04:26.439 --> 00:04:30.450
we actually receive a connection on the port that we specify

102
00:04:30.450 --> 00:04:32.140
when we make the Backdoor.

103
00:04:32.140 --> 00:04:34.020
So the things that to keep in mind,

104
00:04:34.020 --> 00:04:35.370
when you want to send that Backdoor

105
00:04:35.370 --> 00:04:37.360
to somewhere outside your network,

106
00:04:37.360 --> 00:04:38.820
the first thing you want to keep in mind

107
00:04:38.820 --> 00:04:41.900
is that your local IP is not going to be visible.

108
00:04:41.900 --> 00:04:45.210
So what you want to do is you want to use the public IP,

109
00:04:45.210 --> 00:04:46.783
the IP of the router.

110
00:04:47.760 --> 00:04:50.930
And to get that, all you have to do is just go on Google

111
00:04:50.930 --> 00:04:53.077
and then type in 'What's my IP?'

112
00:04:56.750 --> 00:04:57.583
And as you can see,

113
00:04:57.583 --> 00:05:00.640
Google is telling me that my IP address is this.

114
00:05:00.640 --> 00:05:02.900
And this IP will actually be the same

115
00:05:02.900 --> 00:05:05.473
from all the machines in the same network.

116
00:05:06.820 --> 00:05:07.660
Now I should note here.

117
00:05:07.660 --> 00:05:12.590
If I run, if config, I'm actually connected

118
00:05:12.590 --> 00:05:15.640
through a wireless card, so I'm not using a Nat connection.

119
00:05:15.640 --> 00:05:18.090
I'm using an external wireless card

120
00:05:18.090 --> 00:05:20.773
that's connected to my home network right here.

121
00:05:22.340 --> 00:05:25.960
So all the devices in my wireless network at home

122
00:05:25.960 --> 00:05:28.530
will have this IP.

123
00:05:28.530 --> 00:05:31.250
Again, that's because they all use the same router.

124
00:05:31.250 --> 00:05:33.423
They're all connected to the same network.

125
00:05:34.920 --> 00:05:38.810
So we're going to use this IP in our Backdoor.

126
00:05:38.810 --> 00:05:41.010
We're going to send the Backdoor to a person

127
00:05:41.010 --> 00:05:42.450
that exists on the internet.

128
00:05:42.450 --> 00:05:43.940
So exists in here.

129
00:05:43.940 --> 00:05:46.140
That person is going to run that Backdoor

130
00:05:46.140 --> 00:05:49.200
and that Backdoor is going to use a reverse connection.

131
00:05:49.200 --> 00:05:52.470
So it's going to try to connect back to the router

132
00:05:52.470 --> 00:05:54.360
on port 80 80, for example,

133
00:05:54.360 --> 00:05:57.720
if we chose that port in the Backdoor.

134
00:05:57.720 --> 00:06:00.810
Once the router gets our requests for port 80 80,

135
00:06:00.810 --> 00:06:02.640
it won't know what to do with it.

136
00:06:02.640 --> 00:06:06.770
Because the router is not actually listening to port 80 80

137
00:06:06.770 --> 00:06:09.330
and this request will not tell the router where it wants

138
00:06:09.330 --> 00:06:10.580
to go.

139
00:06:10.580 --> 00:06:13.530
So what we need to do is we need to configure the router

140
00:06:13.530 --> 00:06:16.910
to tell it whenever you get a request on port 80 80,

141
00:06:16.910 --> 00:06:20.083
then I want you to forward that port to the Kali machine.

142
00:06:21.160 --> 00:06:23.130
And you can do that for any port you want.

143
00:06:23.130 --> 00:06:25.320
So I'm just using 80 80 as an example.

144
00:06:25.320 --> 00:06:28.610
But you can do it for any port that you're listening on,

145
00:06:28.610 --> 00:06:32.270
whether it's 80 80, 4 4 4 or 3000 for BeEF.

146
00:06:32.270 --> 00:06:35.430
The main idea is you want to use your real IP

147
00:06:35.430 --> 00:06:36.450
outside the network.

148
00:06:36.450 --> 00:06:38.850
So whenever we run any attack in previous lectures

149
00:06:38.850 --> 00:06:42.230
and even in future lectures, if you want to run that attack

150
00:06:42.230 --> 00:06:44.250
on the internet, on someone that doesn't exist

151
00:06:44.250 --> 00:06:46.370
on your home network, then first of all,

152
00:06:46.370 --> 00:06:49.560
make sure you use your public IP

153
00:06:49.560 --> 00:06:51.770
and make sure you configure your router

154
00:06:51.770 --> 00:06:55.190
to forward requests on the port that you're listening on

155
00:06:55.190 --> 00:06:56.443
to the Kali machine.

156
00:06:57.400 --> 00:06:58.360
And I'm going to show you how

157
00:06:58.360 --> 00:06:59.970
to do that in the next lecture.

158
00:06:59.970 --> 00:07:02.610
Right now I just want you to get the idea of what we need

159
00:07:02.610 --> 00:07:04.790
to do and how is that going to work.

160
00:07:04.790 --> 00:07:06.870
So we're going to have examples in the next lectures

161
00:07:06.870 --> 00:07:08.920
and it's going to become much more clear.

